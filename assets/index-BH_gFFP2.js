import{p as e}from"./phaser-C2_wa_Fb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class t{}class l extends t{constructor(e,t){super(),this.cells=[e,t]}remove(){this.cells[0].removeWall(this),this.cells[1].removeWall(this)}getOtherCell(e){return this.cells[0]===e?this.cells[1]:this.cells[0]}}class s extends t{constructor(){super()}}class i{constructor(e,t){this.x=e,this.y=t,this.walls=Array(4).fill(null)}getX(){return this.x}getY(){return this.y}isOpen(){return this.walls.some((e=>null===e))}setRightWall(e){this.walls[1]=e}setLeftWall(e){this.walls[0]=e}setTopWall(e){this.walls[2]=e}setBottomWall(e){this.walls[3]=e}getRightWall(){return this.walls[1]}getLeftWall(){return this.walls[0]}getTopWall(){return this.walls[2]}getBottomWall(){return this.walls[3]}removeWall(e){this.walls=this.walls.map((t=>t===e?null:t))}getRandomWall(){const e=this.walls.filter((e=>e instanceof l&&!e.getOtherCell(this).isOpen()));return 0===e.length?null:e[Math.floor(Math.random()*e.length)]}}class r{constructor(e,t){this.width=e,this.height=t,this.maze=[];for(let l=0;l<t;l++)for(let t=0;t<e;t++)this.maze.push(new i(t,l));this.stack=[],this.createAllWalls()}getWidth(){return this.width}getHeight(){return this.height}getCell(e,t){return this.maze[t*this.width+e]}createCellWalls(e,t){const i=this.getCell(e,t);let r;if(0===e)r=new s;else{const s=this.getCell(e-1,t);r=new l(s,i),s.setRightWall(r)}if(i.setLeftWall(r),0===t)r=new s;else{const s=this.getCell(e,t-1);r=new l(s,i),s.setBottomWall(r)}i.setTopWall(r),e===this.width-1&&(r=new s,i.setRightWall(r)),t===this.height-1&&(r=new s,i.setBottomWall(r))}createAllWalls(){for(let e=0;e<this.height;e++)for(let t=0;t<this.width;t++)this.createCellWalls(t,e)}removeRandomWallsStart(e){this.stack=[e]}removeRandomWall(){let e,t=null;for(;null===t;){if(0===this.stack.length)return!1;e=this.stack.at(-1),t=e.getRandomWall(),null===t&&this.stack.pop()}const l=t.getOtherCell(e);return t.remove(),this.stack.push(l),!0}removeRandomWalls(){for(this.removeRandomWallsStart(this.getCell(0,0));this.removeRandomWall(););}}const a=30;class n extends e.Scene{constructor(){super("Game")}preload(){this.load.setPath("assets"),this.load.image("background","bg.png"),this.load.image("logo","logo.png"),this.maze=new r(20,20),this.maze.removeRandomWalls()}createGraphics(){const e=this.add.graphics({x:212,y:84});return function(e,t,l=0,i=0){for(let r=0;r<t.getHeight();r++)for(let n=0;n<t.getWidth();n++){const o=t.getCell(n,r),h=n*a+l,c=r*a+i,g=o.getLeftWall();g&&(g instanceof s?e.lineStyle(2,16776960,1):e.lineStyle(1,0,1),e.lineBetween(h,c,h,c+a));const u=o.getTopWall();u&&(u instanceof s?e.lineStyle(2,16776960,1):e.lineStyle(1,0,1),e.lineBetween(h,c,h+a,c)),e.lineStyle(2,16776960,1),n===t.getWidth()-1&&o.getRightWall()&&e.lineBetween(h+a,c,h+a,c+a),r===t.getHeight()-1&&o.getBottomWall()&&e.lineBetween(h,c+a,h+a,c+a)}}(e,this.maze),e}create(){this.add.image(512,384,"background"),this.createGraphics()}}const o={type:e.CANVAS,width:1024,height:768,parent:"game-container",backgroundColor:"#028af8",scale:{mode:e.Scale.FIT,autoCenter:e.Scale.CENTER_BOTH},scene:[n]};new e.Game(o);
